<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.a13030de431ac6b9d5a0.css">@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:100;src:local("Roboto Thin "),local("Roboto-Thin"),url(/static/roboto-latin-100-7370c3679472e9560965ff48a4399d0b.woff2) format("woff2"),url(/static/roboto-latin-100-5cb7edfceb233100075dc9a1e12e8da3.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:100;src:local("Roboto Thin italic"),local("Roboto-Thinitalic"),url(/static/roboto-latin-100italic-f8b1df51ba843179fa1cc9b53d58127a.woff2) format("woff2"),url(/static/roboto-latin-100italic-f9e8e590b4e0f1ff83469bb2a55b8488.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:300;src:local("Roboto Light "),local("Roboto-Light"),url(/static/roboto-latin-300-ef7c6637c68f269a882e73bcb57a7f6a.woff2) format("woff2"),url(/static/roboto-latin-300-b00849e00f4c2331cddd8ffb44a6720b.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:300;src:local("Roboto Light italic"),local("Roboto-Lightitalic"),url(/static/roboto-latin-300italic-14286f3ba79c6627433572dfa925202e.woff2) format("woff2"),url(/static/roboto-latin-300italic-4df32891a5f2f98a363314f595482e08.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:400;src:local("Roboto Regular "),local("Roboto-Regular"),url(/static/roboto-latin-400-479970ffb74f2117317f9d24d9e317fe.woff2) format("woff2"),url(/static/roboto-latin-400-60fa3c0614b8fb2f394fa29944c21540.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:400;src:local("Roboto Regular italic"),local("Roboto-Regularitalic"),url(/static/roboto-latin-400italic-51521a2a8da71e50d871ac6fd2187e87.woff2) format("woff2"),url(/static/roboto-latin-400italic-fe65b8335ee19dd944289f9ed3178c78.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:500;src:local("Roboto Medium "),local("Roboto-Medium"),url(/static/roboto-latin-500-020c97dc8e0463259c2f9df929bb0c69.woff2) format("woff2"),url(/static/roboto-latin-500-87284894879f5b1c229cb49c8ff6decc.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:500;src:local("Roboto Medium italic"),local("Roboto-Mediumitalic"),url(/static/roboto-latin-500italic-db4a2a231f52e497c0191e8966b0ee58.woff2) format("woff2"),url(/static/roboto-latin-500italic-288ad9c6e8b43cf02443a1f499bdf67e.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:700;src:local("Roboto Bold "),local("Roboto-Bold"),url(/static/roboto-latin-700-2735a3a69b509faf3577afd25bdf552e.woff2) format("woff2"),url(/static/roboto-latin-700-adcde98f1d584de52060ad7b16373da3.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:700;src:local("Roboto Bold italic"),local("Roboto-Bolditalic"),url(/static/roboto-latin-700italic-da0e717829e033a69dec97f1e155ae42.woff2) format("woff2"),url(/static/roboto-latin-700italic-81f57861ed4ac74741f5671e1dff2fd9.woff) format("woff")}@font-face{font-family:Roboto;font-style:normal;font-display:swap;font-weight:900;src:local("Roboto Black "),local("Roboto-Black"),url(/static/roboto-latin-900-9b3766ef4a402ad3fdeef7501a456512.woff2) format("woff2"),url(/static/roboto-latin-900-bb1e4dc6333675d11ada2e857e7f95d7.woff) format("woff")}@font-face{font-family:Roboto;font-style:italic;font-display:swap;font-weight:900;src:local("Roboto Black italic"),local("Roboto-Blackitalic"),url(/static/roboto-latin-900italic-ebf6d1640ccddb99fb49f73c052c55a8.woff2) format("woff2"),url(/static/roboto-latin-900italic-28f9151055c950874d2c6803a39b425b.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 2.19.45"/><style id="glamor-styles">.css-1bkrl30,[data-css-1bkrl30]{position:relative;margin:0;padding-left:250px;}@media (max-width: 980px){.css-1bkrl30,[data-css-1bkrl30]{padding-left:0;}}.css-d35p82,[data-css-d35p82]{position:fixed;top:0;height:100vh;left:0;width:250px;overflow:auto;}.css-d35p82> *,[data-css-d35p82]> *{overflow:auto;}@media (max-width: 980px){.css-d35p82,[data-css-d35p82]{left:-250px;}}</style><script id="glamor-ids">
        // <![CDATA[
        window._glamor = ["1bkrl30","d35p82"]
        // ]]>
        </script><style id="jss-server-side">html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,::after,::before{box-sizing:inherit}b,strong{font-weight:700}body{color:rgba(0,0,0,.87);margin:0;font-size:1.0625rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em;background-color:#fafafa}@media print{body{background-color:#fff}}body::-webkit-backdrop{background-color:#fafafa}body::backdrop{background-color:#fafafa}.MuiPaper-root{color:rgba(0,0,0,.87);transition:box-shadow .3s cubic-bezier(.4,0,.2,1) 0s;background-color:#fff}.MuiPaper-rounded{border-radius:4px}.MuiPaper-outlined{border:1px solid rgba(0,0,0,.12)}.MuiPaper-elevation0{box-shadow:none}.MuiPaper-elevation1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.MuiPaper-elevation2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.MuiPaper-elevation3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.MuiPaper-elevation4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.MuiPaper-elevation5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.MuiPaper-elevation6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.MuiPaper-elevation7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.MuiPaper-elevation8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.MuiPaper-elevation9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.MuiPaper-elevation10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.MuiPaper-elevation11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.MuiPaper-elevation12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.MuiPaper-elevation13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.MuiPaper-elevation14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.MuiPaper-elevation15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.MuiPaper-elevation16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.MuiPaper-elevation17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.MuiPaper-elevation18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.MuiPaper-elevation19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.MuiPaper-elevation20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.MuiPaper-elevation21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.MuiPaper-elevation22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.MuiPaper-elevation23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.MuiPaper-elevation24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.MuiAppBar-root{width:100%;display:flex;z-index:1100;box-sizing:border-box;flex-shrink:0;flex-direction:column}.MuiAppBar-positionFixed{top:0;left:auto;right:0;position:fixed}@media print{.MuiAppBar-positionFixed{position:absolute}}.MuiAppBar-positionAbsolute{top:0;left:auto;right:0;position:absolute}.MuiAppBar-positionSticky{top:0;left:auto;right:0;position:-webkit-sticky;position:sticky}.MuiAppBar-positionStatic{position:static;transform:translateZ(0)}.MuiAppBar-positionRelative{position:relative}.MuiAppBar-colorDefault{color:rgba(0,0,0,.87);background-color:#f5f5f5}.MuiAppBar-colorPrimary{color:#fff;background-color:#9c27b0}.MuiAppBar-colorSecondary{color:rgba(0,0,0,.87);background-color:#4caf50}.MuiAppBar-colorInherit{color:inherit}.MuiAppBar-colorTransparent{color:inherit;background-color:transparent}.MuiToolbar-root{display:flex;position:relative;align-items:center}.MuiToolbar-gutters{padding-left:16px;padding-right:16px}@media (min-width:600px){.MuiToolbar-gutters{padding-left:24px;padding-right:24px}}.MuiToolbar-regular{min-height:56px}@media (min-width:0px) and (orientation:landscape){.MuiToolbar-regular{min-height:48px}}@media (min-width:600px){.MuiToolbar-regular{min-height:64px}}.MuiToolbar-dense{min-height:48px}.MuiButtonBase-root{color:inherit;border:0;cursor:pointer;margin:0;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;justify-content:center;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.MuiButtonBase-root::-moz-focus-inner{border-style:none}.MuiButtonBase-root.Mui-disabled{cursor:default;pointer-events:none}.MuiIconButton-root{flex:0 0 auto;color:rgba(0,0,0,.54);padding:12px;overflow:visible;font-size:1.8214285714285712rem;text-align:center;transition:background-color 150ms cubic-bezier(.4,0,.2,1) 0s;border-radius:50%}.MuiIconButton-root:hover{background-color:rgba(0,0,0,.04)}.MuiIconButton-root.Mui-disabled{color:rgba(0,0,0,.26);background-color:transparent}@media (hover:none){.MuiIconButton-root:hover{background-color:transparent}}.MuiIconButton-edgeStart{margin-left:-12px}.MuiIconButton-sizeSmall.MuiIconButton-edgeStart{margin-left:-3px}.MuiIconButton-edgeEnd{margin-right:-12px}.MuiIconButton-sizeSmall.MuiIconButton-edgeEnd{margin-right:-3px}.MuiIconButton-colorInherit{color:inherit}.MuiIconButton-colorPrimary{color:#9c27b0}.MuiIconButton-colorPrimary:hover{background-color:rgba(156,39,176,.04)}@media (hover:none){.MuiIconButton-colorPrimary:hover{background-color:transparent}}.MuiIconButton-colorSecondary{color:#4caf50}.MuiIconButton-colorSecondary:hover{background-color:rgba(76,175,80,.04)}@media (hover:none){.MuiIconButton-colorSecondary:hover{background-color:transparent}}.MuiIconButton-sizeSmall{padding:3px;font-size:1.3660714285714284rem}.MuiIconButton-label{width:100%;display:flex;align-items:inherit;justify-content:inherit}.MuiTooltip-popper{flip:false;z-index:1500;pointer-events:none}.MuiTooltip-popperInteractive{pointer-events:auto}.MuiTooltip-popperArrow[x-placement*=bottom] .MuiTooltip-arrow{top:0;flip:false;left:0;width:2em;height:1em;margin-top:-.95em;margin-left:4px;margin-right:4px}.MuiTooltip-popperArrow[x-placement*=top] .MuiTooltip-arrow{flip:false;left:0;width:2em;bottom:0;height:1em;margin-left:4px;margin-right:4px;margin-bottom:-.95em}.MuiTooltip-popperArrow[x-placement*=right] .MuiTooltip-arrow{flip:false;left:0;width:1em;height:2em;margin-top:4px;margin-left:-.95em;margin-bottom:4px}.MuiTooltip-popperArrow[x-placement*=left] .MuiTooltip-arrow{flip:false;right:0;width:1em;height:2em;margin-top:4px;margin-right:-.95em;margin-bottom:4px}.MuiTooltip-popperArrow[x-placement*=left] .MuiTooltip-arrow::before{flip:false;border-color:transparent transparent transparent currentcolor;border-width:1em 0 1em 1em}.MuiTooltip-popperArrow[x-placement*=right] .MuiTooltip-arrow::before{flip:false;border-color:transparent currentcolor transparent transparent;border-width:1em 1em 1em 0}.MuiTooltip-popperArrow[x-placement*=top] .MuiTooltip-arrow::before{flip:false;border-color:currentcolor transparent transparent transparent;border-width:1em 1em 0 1em}.MuiTooltip-popperArrow[x-placement*=bottom] .MuiTooltip-arrow::before{flip:false;border-color:transparent transparent currentcolor transparent;border-width:0 1em 1em 1em}.MuiTooltip-tooltip{color:#fff;padding:4px 8px;font-size:.7589285714285714rem;max-width:300px;word-wrap:break-word;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.4em;border-radius:4px;background-color:rgba(97,97,97,.9)}.MuiTooltip-tooltipArrow{margin:0;position:relative}.MuiTooltip-arrow{color:rgba(97,97,97,.9);position:absolute;font-size:6px}.MuiTooltip-arrow::before{width:0;height:0;margin:auto;content:"";display:block;border-style:solid}.MuiTooltip-touch{padding:8px 16px;font-size:1.0625rem;font-weight:400;line-height:1.14286em}.MuiTooltip-tooltipPlacementLeft{margin:0 24px;transform-origin:right center}@media (min-width:600px){.MuiTooltip-tooltipPlacementLeft{margin:0 14px}}.MuiTooltip-tooltipPlacementRight{margin:0 24px;transform-origin:left center}@media (min-width:600px){.MuiTooltip-tooltipPlacementRight{margin:0 14px}}.MuiTooltip-tooltipPlacementTop{margin:24px 0;transform-origin:center bottom}@media (min-width:600px){.MuiTooltip-tooltipPlacementTop{margin:14px 0}}.MuiTooltip-tooltipPlacementBottom{margin:24px 0;transform-origin:center top}@media (min-width:600px){.MuiTooltip-tooltipPlacementBottom{margin:14px 0}}.MuiSvgIcon-root{fill:currentColor;width:1em;height:1em;display:inline-block;font-size:1.8214285714285712rem;transition:fill .2s cubic-bezier(.4,0,.2,1) 0s;flex-shrink:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.MuiSvgIcon-colorPrimary{color:#9c27b0}.MuiSvgIcon-colorSecondary{color:#4caf50}.MuiSvgIcon-colorAction{color:rgba(0,0,0,.54)}.MuiSvgIcon-colorError{color:#f44336}.MuiSvgIcon-colorDisabled{color:rgba(0,0,0,.26)}.MuiSvgIcon-fontSizeInherit{font-size:inherit}.MuiSvgIcon-fontSizeSmall{font-size:1.5178571428571428rem}.MuiSvgIcon-fontSizeLarge{font-size:2.65625rem}.MuiTypography-root{margin:0}.MuiTypography-body2{font-size:1.0625rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em}.MuiTypography-body1{font-size:1.2142857142857142rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.5;letter-spacing:.00938em}.MuiTypography-caption{font-size:.9107142857142856rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.66;letter-spacing:.03333em}.MuiTypography-button{font-size:1.0625rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.75;letter-spacing:.02857em;text-transform:uppercase}.MuiTypography-h1{font-size:7.285714285714285rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:300;line-height:1.167;letter-spacing:-.01562em}.MuiTypography-h2{font-size:4.553571428571428rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:300;line-height:1.2;letter-spacing:-.00833em}.MuiTypography-h3{font-size:3.6428571428571423rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.167;letter-spacing:0}.MuiTypography-h4{font-size:2.580357142857143rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.235;letter-spacing:.00735em}.MuiTypography-h5{font-size:1.8214285714285712rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.334;letter-spacing:0}.MuiTypography-h6{font-size:1.5178571428571428rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.6;letter-spacing:.0075em}.MuiTypography-subtitle1{font-size:1.2142857142857142rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.75;letter-spacing:.00938em}.MuiTypography-subtitle2{font-size:1.0625rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.57;letter-spacing:.00714em}.MuiTypography-overline{font-size:.9107142857142856rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:2.66;letter-spacing:.08333em;text-transform:uppercase}.MuiTypography-srOnly{width:1px;height:1px;overflow:hidden;position:absolute}.MuiTypography-alignLeft{text-align:left}.MuiTypography-alignCenter{text-align:center}.MuiTypography-alignRight{text-align:right}.MuiTypography-alignJustify{text-align:justify}.MuiTypography-noWrap{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.MuiTypography-gutterBottom{margin-bottom:.35em}.MuiTypography-paragraph{margin-bottom:16px}.MuiTypography-colorInherit{color:inherit}.MuiTypography-colorPrimary{color:#9c27b0}.MuiTypography-colorSecondary{color:#4caf50}.MuiTypography-colorTextPrimary{color:rgba(0,0,0,.87)}.MuiTypography-colorTextSecondary{color:rgba(0,0,0,.54)}.MuiTypography-colorError{color:#f44336}.MuiTypography-displayInline{display:inline}.MuiTypography-displayBlock{display:block}.jss3{left:0;right:0;background-color:#12182f}@media print{.jss3{position:absolute}}.jss4{left:250px;right:0;width:auto;transition:left 225ms cubic-bezier(0,0,.2,1) 0s}.jss5{font-size:1.6rem;margin-left:.5rem}.jss6{color:#fff;display:inline-block;font-size:2rem;margin-top:.5rem;transition:background-color 150ms cubic-bezier(.4,0,.2,1) 0s;font-weight:700;padding-left:1rem;border-radius:5px;padding-right:1rem;letter-spacing:.3rem;text-transform:uppercase}.jss6:hover{transition:background-color 150ms cubic-bezier(.4,0,.2,1) 0s;background-color:rgba(255,255,255,.15)}.jss7{flex:1 1 auto}.jss8:hover{transition:background-color 150ms cubic-bezier(.4,0,.2,1) 0s;background-color:rgba(255,255,255,.15)}.jss114{flex:1 1 100%;body1:[object Object];body2:[object Object];button:[object Object];margin:0 auto 3rem;caption:[object Object];overline:[object Object];font-size:1rem;max-width:100%;subtitle1:[object Object];subtitle2:[object Object];font-family:Roboto,Helvetica,Arial,sans-serif;line-height:1.6rem;padding-top:40px;padding-left:16px;padding-right:16px;html-font-size:16;font-weight-bold:700;font-weight-light:300;font-weight-medium:500;font-weight-regular:400}.jss114 a{text-decoration:none}.jss114 h1{color:#777;font-weight:400}.jss114 h2{color:#777;margin-top:3.5rem;font-weight:400}.jss114 h3{color:#777;margin-top:2.5rem;font-weight:400}.jss114 blockquote{margin:0;border-left:3px solid #777;padding-left:40px}.jss114 blockquote p{color:#777}.jss114 blockquote p>code[class*=language-]{color:#646464}.jss114 p{color:#000;text-align:justify}.jss114 ul p{margin:0}.jss114 ul{padding-left:20px}.jss114 li{text-align:justify}.jss114 pre>code[class*=language-]{font-size:1rem}.jss114 :not(pre)>code[class*=language-]{color:#000;padding:.2em .3em 0 .3em;background:#e6e6e6}.jss114 .toc{display:none;padding:5px 0;border-top:1px solid #e5e7ea;border-bottom:1px solid #e5e7ea}@media (min-width:600px){.jss114{padding-left:24px;padding-right:24px}}.jss114 .toc h2{margin-top:0}.jss114 .toc ul{margin-top:0;margin-bottom:0}.jss114 a:link,.jss114 a:visited{color:#00618e}.jss114 a:hover{color:#03a9f4;text-decoration:none}@media (min-width:948px){.jss114{max-width:900px}}.jss115{color:#ccc;float:right}.jss115:link,.jss115:visited{color:#ccc!important}.jss115:hover{color:#03a9f4!important;text-decoration:none}.jss116{px-to-rem:NaNrem;round:NaN}.MuiGrid-container{width:100%;display:flex;flex-wrap:wrap;box-sizing:border-box}.MuiGrid-item{margin:0;box-sizing:border-box}.MuiGrid-zeroMinWidth{min-width:0}.MuiGrid-direction-xs-column{flex-direction:column}.MuiGrid-direction-xs-column-reverse{flex-direction:column-reverse}.MuiGrid-direction-xs-row-reverse{flex-direction:row-reverse}.MuiGrid-wrap-xs-nowrap{flex-wrap:nowrap}.MuiGrid-wrap-xs-wrap-reverse{flex-wrap:wrap-reverse}.MuiGrid-align-items-xs-center{align-items:center}.MuiGrid-align-items-xs-flex-start{align-items:flex-start}.MuiGrid-align-items-xs-flex-end{align-items:flex-end}.MuiGrid-align-items-xs-baseline{align-items:baseline}.MuiGrid-align-content-xs-center{align-content:center}.MuiGrid-align-content-xs-flex-start{align-content:flex-start}.MuiGrid-align-content-xs-flex-end{align-content:flex-end}.MuiGrid-align-content-xs-space-between{align-content:space-between}.MuiGrid-align-content-xs-space-around{align-content:space-around}.MuiGrid-justify-xs-center{justify-content:center}.MuiGrid-justify-xs-flex-end{justify-content:flex-end}.MuiGrid-justify-xs-space-between{justify-content:space-between}.MuiGrid-justify-xs-space-around{justify-content:space-around}.MuiGrid-justify-xs-space-evenly{justify-content:space-evenly}.MuiGrid-spacing-xs-1{width:calc(100% + 8px);margin:-4px}.MuiGrid-spacing-xs-1>.MuiGrid-item{padding:4px}.MuiGrid-spacing-xs-2{width:calc(100% + 16px);margin:-8px}.MuiGrid-spacing-xs-2>.MuiGrid-item{padding:8px}.MuiGrid-spacing-xs-3{width:calc(100% + 24px);margin:-12px}.MuiGrid-spacing-xs-3>.MuiGrid-item{padding:12px}.MuiGrid-spacing-xs-4{width:calc(100% + 32px);margin:-16px}.MuiGrid-spacing-xs-4>.MuiGrid-item{padding:16px}.MuiGrid-spacing-xs-5{width:calc(100% + 40px);margin:-20px}.MuiGrid-spacing-xs-5>.MuiGrid-item{padding:20px}.MuiGrid-spacing-xs-6{width:calc(100% + 48px);margin:-24px}.MuiGrid-spacing-xs-6>.MuiGrid-item{padding:24px}.MuiGrid-spacing-xs-7{width:calc(100% + 56px);margin:-28px}.MuiGrid-spacing-xs-7>.MuiGrid-item{padding:28px}.MuiGrid-spacing-xs-8{width:calc(100% + 64px);margin:-32px}.MuiGrid-spacing-xs-8>.MuiGrid-item{padding:32px}.MuiGrid-spacing-xs-9{width:calc(100% + 72px);margin:-36px}.MuiGrid-spacing-xs-9>.MuiGrid-item{padding:36px}.MuiGrid-spacing-xs-10{width:calc(100% + 80px);margin:-40px}.MuiGrid-spacing-xs-10>.MuiGrid-item{padding:40px}.MuiGrid-grid-xs-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-xs-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-xs-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-xs-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-xs-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-xs-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-xs-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-xs-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-xs-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-xs-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-xs-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-xs-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-xs-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-xs-12{flex-grow:0;max-width:100%;flex-basis:100%}@media (min-width:600px){.MuiGrid-grid-sm-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-sm-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-sm-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-sm-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-sm-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-sm-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-sm-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-sm-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-sm-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-sm-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-sm-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-sm-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-sm-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-sm-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:960px){.MuiGrid-grid-md-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-md-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-md-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-md-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-md-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-md-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-md-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-md-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-md-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-md-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-md-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-md-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-md-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-md-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:1280px){.MuiGrid-grid-lg-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-lg-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-lg-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-lg-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-lg-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-lg-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-lg-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-lg-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-lg-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-lg-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-lg-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-lg-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-lg-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-lg-12{flex-grow:0;max-width:100%;flex-basis:100%}}@media (min-width:1920px){.MuiGrid-grid-xl-auto{flex-grow:0;max-width:none;flex-basis:auto}.MuiGrid-grid-xl-true{flex-grow:1;max-width:100%;flex-basis:0}.MuiGrid-grid-xl-1{flex-grow:0;max-width:8.333333%;flex-basis:8.333333%}.MuiGrid-grid-xl-2{flex-grow:0;max-width:16.666667%;flex-basis:16.666667%}.MuiGrid-grid-xl-3{flex-grow:0;max-width:25%;flex-basis:25%}.MuiGrid-grid-xl-4{flex-grow:0;max-width:33.333333%;flex-basis:33.333333%}.MuiGrid-grid-xl-5{flex-grow:0;max-width:41.666667%;flex-basis:41.666667%}.MuiGrid-grid-xl-6{flex-grow:0;max-width:50%;flex-basis:50%}.MuiGrid-grid-xl-7{flex-grow:0;max-width:58.333333%;flex-basis:58.333333%}.MuiGrid-grid-xl-8{flex-grow:0;max-width:66.666667%;flex-basis:66.666667%}.MuiGrid-grid-xl-9{flex-grow:0;max-width:75%;flex-basis:75%}.MuiGrid-grid-xl-10{flex-grow:0;max-width:83.333333%;flex-basis:83.333333%}.MuiGrid-grid-xl-11{flex-grow:0;max-width:91.666667%;flex-basis:91.666667%}.MuiGrid-grid-xl-12{flex-grow:0;max-width:100%;flex-basis:100%}}.jss117{flex-grow:1;background-color:#12182f}.jss118{flex:1 1 100%;body1:[object Object];body2:[object Object];button:[object Object];margin:0 auto;caption:[object Object];overline:[object Object];font-size:17px;max-width:100%;subtitle1:[object Object];subtitle2:[object Object];font-family:Roboto,Helvetica,Arial,sans-serif;padding-left:16px;padding-right:16px;html-font-size:16;font-weight-bold:700;font-weight-light:300;font-weight-medium:500;font-weight-regular:400}@media (min-width:600px){.jss118{padding-left:24px;padding-right:24px}}@media (min-width:948px){.jss118{max-width:900px}}.jss119{color:#ccc8c7}.jss120{color:#ccc8c7;padding:16px;text-align:justify}.jss121{color:#ccc8c7;margin:1rem 0;padding:0;list-style:none}.jss121 li{margin:0;padding:0;list-style:none}.jss121 a{color:#fff;text-decoration:none}.jss121 a:hover{color:#03a9f4}.jss122{color:#ccc8c7;margin:1rem 0}.jss122 a{color:#fff;text-decoration:none}.jss122 a:hover{color:#03a9f4}.jss123{px-to-rem:NaNrem;round:NaN}.MuiDivider-root{border:none;height:1px;margin:0;flex-shrink:0;background-color:rgba(0,0,0,.12)}.MuiDivider-absolute{left:0;width:100%;bottom:0;position:absolute}.MuiDivider-inset{margin-left:72px}.MuiDivider-light{background-color:rgba(0,0,0,.08)}.MuiDivider-middle{margin-left:16px;margin-right:16px}.MuiDivider-vertical{width:1px;height:100%}.MuiDivider-flexItem{height:auto;align-self:stretch}.jss227{background-color:#f5f5f5}.jss228{color:#757575;display:flex;flex-grow:1;min-height:56px;align-items:flex-start;padding-left:16px;flex-direction:column;justify-content:center}@media (min-width:0px) and (orientation:landscape){.jss228{min-height:48px}}@media (min-width:600px){.jss228{min-height:64px}}.jss228 a{color:rgba(0,0,0,.87);text-decoration:none}.jss229{color:#757575;padding:20px 0;border-top:1px solid #c8c8c8;padding-left:16px;padding-right:16px;background-color:#f5f5f5}.jss229 a{color:rgba(0,0,0,.87);text-decoration:none}.MuiCollapse-container{height:0;overflow:hidden;transition:height .3s cubic-bezier(.4,0,.2,1) 0s}.MuiCollapse-entered{height:auto;overflow:visible}.MuiCollapse-hidden{visibility:hidden}.MuiCollapse-wrapper{display:flex}.MuiCollapse-wrapperInner{width:100%}.MuiListItemText-root{flex:1 1 auto;min-width:0;margin-top:4px;margin-bottom:4px}.MuiListItemText-multiline{margin-top:6px;margin-bottom:6px}.MuiListItemText-inset{padding-left:56px}.MuiListItemSecondaryAction-root{top:50%;right:16px;position:absolute;transform:translateY(-50%)}.MuiListItem-root{width:100%;display:flex;position:relative;box-sizing:border-box;text-align:left;align-items:center;padding-top:8px;padding-bottom:8px;justify-content:flex-start;text-decoration:none}.MuiListItem-root.Mui-focusVisible{background-color:rgba(0,0,0,.08)}.MuiListItem-root.Mui-selected,.MuiListItem-root.Mui-selected:hover{background-color:rgba(0,0,0,.08)}.MuiListItem-root.Mui-disabled{opacity:.5}.MuiListItem-container{position:relative}.MuiListItem-dense{padding-top:4px;padding-bottom:4px}.MuiListItem-alignItemsFlexStart{align-items:flex-start}.MuiListItem-divider{border-bottom:1px solid rgba(0,0,0,.12);background-clip:padding-box}.MuiListItem-gutters{padding-left:16px;padding-right:16px}.MuiListItem-button{transition:background-color 150ms cubic-bezier(.4,0,.2,1) 0s}.MuiListItem-button:hover{text-decoration:none;background-color:rgba(0,0,0,.04)}@media (hover:none){.MuiListItem-button:hover{background-color:transparent}}.MuiListItem-secondaryAction{padding-right:48px}.MuiMenuItem-root{width:auto;overflow:hidden;font-size:1.2142857142857142rem;box-sizing:border-box;min-height:48px;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.5;padding-top:6px;white-space:nowrap;letter-spacing:.00938em;padding-bottom:6px}@media (min-width:600px){.MuiMenuItem-root{min-height:auto}}.MuiMenuItem-dense{font-size:1.0625rem;min-height:auto;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em}.MuiList-root{margin:0;padding:0;position:relative;list-style:none}.MuiList-padding{padding-top:8px;padding-bottom:8px}.MuiList-subheader{padding-top:0}.jss237{background-color:#fff}.jss238{font-weight:300;padding-top:2.64px;padding-bottom:2.64px}.jss239{color:#757575;font-size:.9107142857142856rem;min-height:auto;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.66;letter-spacing:.03333em;text-decoration:none}.jss239:hover{text-decoration:none}.jss239:active{color:#03a9f4}.jss240{color:#03a9f4}.jss2{padding-top:60px;background-color:#f2f2f2}</style><title data-react-helmet="true">NIKITA - Tutorial</title><meta data-react-helmet="true" name="description" content="Instructions on how to get up and running"/><meta data-react-helmet="true" name="keywords"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 64)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/icons/icon-48x48.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#105859"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fee15a002fdd6583ac8277933e46e819"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/styles-a23637343f1e7dc05fec.js"/><link as="script" rel="preload" href="/component---src-templates-template-js-bcfdd028899cc692d9d8.js"/><link as="script" rel="preload" href="/commons-4e2dc19d106bb1fdc5de.js"/><link as="script" rel="preload" href="/app-9e030c0c176763750740.js"/><link as="script" rel="preload" href="/webpack-runtime-b358f5505323f17f5df9.js"/><link as="fetch" rel="preload" href="/page-data/about/tutorial/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="jss1"><div class="css-1bkrl30"><header class="MuiPaper-root MuiAppBar-root MuiAppBar-positionFixed MuiAppBar-colorPrimary jss3 jss4 mui-fixed MuiPaper-elevation4"><div class="MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters"><button class="MuiButtonBase-root MuiIconButton-root jss8 MuiIconButton-colorInherit" tabindex="0" type="button" aria-label="open drawer"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></span></button><a href="/"><p class="MuiTypography-root jss6 MuiTypography-body1 MuiTypography-colorInherit MuiTypography-noWrap">Nikita<svg class="MuiSvgIcon-root jss5" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><g><path d=" M 7.307 6.867 L 10.46 6.867 C 10.703 6.867 10.9 7.064 10.9 7.307 L 10.9 12.293 C 10.9 12.536 11.097 12.733 11.34 12.733 L 14.86 12.733 C 15.103 12.733 15.3 12.93 15.3 13.173 L 15.3 18.16 C 15.3 18.403 15.103 18.6 14.86 18.6 L 7.307 18.6 C 7.064 18.6 6.867 18.403 6.867 18.16 L 6.867 7.307 C 6.867 7.064 7.064 6.867 7.307 6.867 Z "></path><path d=" M 12.367 4.373 L 12.367 10.827 C 12.367 11.07 12.564 11.267 12.807 11.267 L 18.16 11.267 C 18.403 11.267 18.6 11.07 18.6 10.827 L 18.6 4.373 C 18.6 4.13 18.403 3.933 18.16 3.933 L 12.807 3.933 C 12.564 3.933 12.367 4.13 12.367 4.373 Z "></path><path d=" M 16.767 14.64 L 16.767 19.627 C 16.767 19.87 16.57 20.067 16.327 20.067 L 11.34 20.067 C 11.097 20.067 10.9 20.264 10.9 20.507 L 10.9 22.56 C 10.9 22.803 11.097 23 11.34 23 L 19.26 23 C 19.503 23 19.7 22.803 19.7 22.56 L 19.7 14.64 C 19.7 14.397 19.503 14.2 19.26 14.2 L 17.207 14.2 C 16.964 14.2 16.767 14.397 16.767 14.64 Z "></path><path d=" M 9.8 20.507 L 9.8 21.093 C 9.8 21.336 9.603 21.533 9.36 21.533 L 4.373 21.533 C 4.13 21.533 3.933 21.336 3.933 21.093 L 3.933 14.64 C 3.933 14.397 4.13 14.2 4.373 14.2 L 4.96 14.2 C 5.203 14.2 5.4 14.397 5.4 14.64 L 5.4 19.627 C 5.4 19.87 5.597 20.067 5.84 20.067 L 9.36 20.067 C 9.603 20.067 9.8 20.264 9.8 20.507 Z "></path><path d=" M 5.4 8.773 L 5.4 12.293 C 5.4 12.536 5.203 12.733 4.96 12.733 L 1.44 12.733 C 1.197 12.733 1 12.536 1 12.293 L 1 8.773 C 1 8.53 1.197 8.333 1.44 8.333 L 4.96 8.333 C 5.203 8.333 5.4 8.53 5.4 8.773 Z "></path><path d=" M 10.093 3.933 L 8.04 3.933 C 7.797 3.933 7.6 3.736 7.6 3.493 L 7.6 1.44 C 7.6 1.197 7.797 1 8.04 1 L 10.093 1 C 10.336 1 10.533 1.197 10.533 1.44 L 10.533 3.493 C 10.533 3.736 10.336 3.933 10.093 3.933 Z "></path><path d=" M 20.067 5.84 L 20.067 7.893 C 20.067 8.136 20.264 8.333 20.507 8.333 L 22.56 8.333 C 22.803 8.333 23 8.136 23 7.893 L 23 5.84 C 23 5.597 22.803 5.4 22.56 5.4 L 20.507 5.4 C 20.264 5.4 20.067 5.597 20.067 5.84 Z "></path></g></svg></p></a><div class="jss7"></div><a class="MuiButtonBase-root MuiIconButton-root jss8 MuiIconButton-colorInherit" tabindex="0" aria-disabled="false" href="https://github.com/adaltas/node-nikita/issues" aria-labelledby="appbar-bug" title="Report an issue"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z"></path></svg></span></a><a class="MuiButtonBase-root MuiIconButton-root jss8 MuiIconButton-colorInherit" tabindex="0" aria-disabled="false" href="https://github.com/adaltas/node-nikita" aria-labelledby="appbar-github" title="Nikita GitHub Repository"><span class="MuiIconButton-label"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></span></a></div></header><div class="jss2"><main class="jss114 jss116"><a class="MuiButtonBase-root MuiIconButton-root jss115 MuiIconButton-colorInherit" tabindex="0" aria-disabled="false" href="https://github.com/adaltas/node-nikita-docs/edit/master/src/md/about/tutorial.md" aria-labelledby="content-edit" title="Edit on GitHub"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"></path></svg></span></a><button class="MuiButtonBase-root MuiIconButton-root jss115 MuiIconButton-colorInherit" tabindex="0" type="button" aria-labelledby="content-toc" title="Toggle table of content"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7zm-4 6h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></svg></span></button><div><h1 id="tutorial" style="position:relative;"><a href="#tutorial" aria-label="tutorial permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tutorial</h1>
<div class="toc">
<h2><a href="#toc" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table of Contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li>
<p><a href="#what-is-nikita-">What is Nikita ?</a></p>
<ul>
<li><a href="#technologies">Technologies</a></li>
<li><a href="#use-cases">Use cases</a></li>
<li><a href="#what-is-inside-nikita">What is inside Nikita</a></li>
</ul>
</li>
<li>
<p><a href="#installation-instructions">Installation instructions</a></p>
<ul>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#initialization">Initialization</a></li>
</ul>
</li>
<li>
<p><a href="#core-concepts">Core concepts</a></p>
<ul>
<li><a href="#about-coffeescript">About CoffeeScript</a></li>
<li><a href="#actions-handler">Actions handler</a></li>
<li><a href="#calling-actions">Calling actions</a></li>
<li><a href="#actions-callback">Actions callback</a></li>
<li><a href="#idempotence-and-status">Idempotence and status</a></li>
<li><a href="#external-actions">External actions</a></li>
<li><a href="#passing-options">Passing options</a></li>
<li><a href="#passing-metadata">Passing metadata</a></li>
<li><a href="#registering-actions">Registering actions</a></li>
</ul>
</li>
<li>
<p><a href="#real-world-example">Real world example</a></p>
<ul>
<li><a href="#source-compilation">Source compilation</a></li>
<li><a href="#redis-configuration-file">Redis configuration file</a></li>
<li><a href="#cli-reporting-and-logs">CLI reporting and logs</a></li>
<li><a href="#get-the-server-up-and-running">Get the server up and running</a></li>
<li><a href="#checking-the-service-health">Checking the service health</a></li>
<li><a href="#ssh-activation">SSH activation</a></li>
<li><a href="#composition">Composition</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="introduction" style="position:relative;"><a href="#introduction" aria-label="introduction permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>This tutorial covers the basics to get started and to use Nikita. It is organized in 4 sections:</p>
<ul>
<li>What is nikita ?</li>
<li>Installation instructions</li>
<li>Core concepts</li>
<li>Real life example</li>
</ul>
<p>Feel free to skip the second section if you are familiar with Node.js and its ecosystem.</p>
<p>For detailed information, navigate the documentation or submit an issue if you don't find the answers to your questions. Also, if you are looking for examples, the source code is well documented and its test coverage quite complete. We highly encourage you to navigate the tests. Tests are self contained and very easy to understand. They also provide you the guaranty of reading a working code.</p>
<h2 id="what-is-nikita-" style="position:relative;"><a href="#what-is-nikita-" aria-label="what is nikita  permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is Nikita ?</h2>
<p>Nikita is build as a library, which provides simple functions on a host (server, desktop, machine, vm...) either locally or remotely over ssh.</p>
<h3 id="technologies" style="position:relative;"><a href="#technologies" aria-label="technologies permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Technologies</h3>
<p>Nikita is written in JavaScript and executed by NodeJs. It is delivered as a Node.js package and is available on npm.</p>
<h3 id="use-cases" style="position:relative;"><a href="#use-cases" aria-label="use cases permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use cases</h3>
<p>It can serve  multiple purposes. For example, it can be used in a website with a Node.js backend, where you want to execute actions (writing files, copy, move, executing custom scripts..) or you can use it to automate and orchestrate  components' deployments (installations, functional tests, lifecycle management...).</p>
<p>Take a view at <a href="https://github.com/ryba-io/ryba">ryba</a> which contains playbooks to setup and manage bigdata system.</p>
<h3 id="what-is-inside-nikita" style="position:relative;"><a href="#what-is-inside-nikita" aria-label="what is inside nikita permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is inside Nikita</h3>
<p>Nikita comes with a set of default functions.
It is bundled with many handy functions covering a large range of usage:</p>
<ul>
<li>write files</li>
<li>execute shell commands</li>
<li>package managements</li>
<li>run docker containers</li>
</ul>
<p>You are encouraged to extend Nikita with your own actions. To write an action is just about writing a plain vanilla javascript function.</p>
<h2 id="installation-instructions" style="position:relative;"><a href="#installation-instructions" aria-label="installation instructions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation instructions</h2>
<h3 id="dependencies" style="position:relative;"><a href="#dependencies" aria-label="dependencies permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependencies</h3>
<p>To run your code, you must have Node.js and NPM (or YARN) installed. The procedure depends on your operating system. They are multiple alternatives to install Node.js:</p>
<ul>
<li><a href="https://Node.js.org/en/download/">Download</a><br>
The <a href="https://Node.js.org/en/download/">official download page</a> provides you with the choices of downloading an installer, the binary files and the source code.</li>
<li><a href="https://Node.js.org/en/download/package-manager/">Package manager</a><br>
The <a href="https://Node.js.org/en/download/package-manager/">package manager</a> is probably the fastest and easiest way to get Node.js installed and ready while being upgraded in the future. The choice of package managers will depends on your system.</li>
<li>Node.js version manager
<a href="https://github.com/creationix/nvm">NVM</a> and <a href="https://github.com/tj/n">N</a> will manage multiple versions of Node.js in parallel. For advance users, this is our recommended procedure as we personally use <a href="https://github.com/tj/n">N</a>.</li>
</ul>
<p>Once installed, you should have the <code class="language-text">node</code> and <code class="language-text">npm</code> commands available from your terminal.</p>
<h3 id="initialization" style="position:relative;"><a href="#initialization" aria-label="initialization permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Initialization</h3>
<p>A Nikita project is a Node.js package. Everything is a file and it doesn't require you to rely on any external software such as a database. For this reason we will use <a href="https://en.wikipedia.org/wiki/Version_control">version control systems (VCS)</a> to track our development.
Several tools are available such as <a href="https://git-scm.com/">GIT</a> and <a href="https://www.mercurial-scm.org/">Mercurial</a>. In this tutorial, we will be using <a href="https://git-scm.com/">GIT</a> and publish the source code to the <a href="https://github.com/adaltas/node-nikita-tutorial">node-nikita-tutorial repository on GitHub</a>.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># Create a new folder</span>
<span class="token function">mkdir</span> tutorial
<span class="token builtin class-name">cd</span> tutorial
<span class="token comment"># Initialize the git repository</span>
<span class="token function">git</span> init
<span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/adaltas/node-nikita-tutorial.git
<span class="token comment"># Ignore files</span>
<span class="token function">cat</span> <span class="token operator">></span> .gitignore <span class="token operator">&lt;&lt;</span><span class="token string">MD
.*
/node_modules
!.gitignore
MD</span>
<span class="token comment"># Generate the readme file</span>
<span class="token function">cat</span> <span class="token operator">></span> README.md <span class="token operator">&lt;&lt;</span><span class="token string">MD
# Nikita tutorial

You will learn how to create a new project as well as the fundamentals on using 
Nikita to automate the deployment of systems.

Please refer to the [official project documentation](http://nikita.adaltas.com/about/tutorial/)
for additional information.
MD</span>
<span class="token comment"># Commit to git the project description</span>
<span class="token function">git</span> <span class="token function">add</span> .gitignore
<span class="token function">git</span> <span class="token function">add</span> README.md
<span class="token function">git</span> commit -m <span class="token string">"Project description"</span></code></pre></div>
<p>A Nikita project is a Node.js project. Thus, we will use the <code class="language-text">npm init</code> command to create a new project. This is a common way to bootstrap a project with the default package definition file. The project unique required dependency is "nikita". There are no other external dependency to declare unless you need to.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># Initialize a new project</span>
<span class="token function">npm</span> init
<span class="token comment"># Declare the Nikita dependency</span>
<span class="token function">npm</span> <span class="token function">add</span> nikita
<span class="token function">curl</span> https://raw.githubusercontent.com/adaltas/node-nikita/master/LICENSE -o LICENSE
<span class="token comment"># Commit to git the Node.js package declaration file</span>
<span class="token function">git</span> <span class="token function">add</span> package.json
<span class="token function">git</span> <span class="token function">add</span> package-lock.json
<span class="token function">git</span> <span class="token function">add</span> README.md
<span class="token function">git</span> <span class="token function">add</span> LICENSE
<span class="token function">git</span> commit -a -m <span class="token string">"Package declaration file"</span></code></pre></div>
<p>The <code class="language-text">npm init</code> command will ask you a few questions such as the project name and its version. You may run with default answers using the <code class="language-text">-y</code> option or get inspiration from this output:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">package name: (tutorial) nikita-tutorial
version: (1.0.0) 0.0.0
description: Learn how to use Nikita
entry point: (index.js) app.js
test command: mocha test/*.js
git repository: https://github.com/adaltas/node-nikita-tutorial.git
keywords: nikita tutorial
author: David Worms
license: (ISC) BSD-3-Clause</code></pre></div>
<p>A <a href="https://gist.github.com/robertkowalski/7620849">list of possible licenses</a> is available on Github.</p>
<h2 id="core-concepts" style="position:relative;"><a href="#core-concepts" aria-label="core concepts permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Core concepts</h2>
<p>Before installing something useful, let's learn a few basics. Nikita is executed by the Node.js engine. It implies some experience in JavaScript. You don't need to be a JS Ninja but some basic knowledges are required.</p>
<h3 id="about-coffeescript" style="position:relative;"><a href="#about-coffeescript" aria-label="about coffeescript permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>About CoffeeScript</h3>
<p>This tutorial is written in JavaScript to get you started quickly. If you navigate the Nikita source code, you'll see it is written in CoffeeScript, a language which transpiles into JavaScript before being executed by the Node.js engine. Run <code class="language-text">npm install -g coffeescript</code> to install CoffeeScript globally. Unless you used a Node.js version manager, you will probably encounter a permission error. Read the NPM chapter about <a href="https://docs.npmjs.com/getting-started/fixing-npm-permissions">permissions</a> to select a solution or install it locally without the <code class="language-text">-g</code> option and use the command <code class="language-text">./node_modules/.bin/coffee</code> instead of <code class="language-text">coffee</code>.</p>
<p>CoffeeScript has a very clean syntax and is perfectly suited with the declarative aspect of the Nikita API. In the end, the source code looks like one written in YAML while preserving the advantages of a procedural language like JavaScript. A second advantage we found with CoffeeScript is its <a href="http://coffeescript.org/#literate">literate functionality</a> which let you write Markdown files with CoffeeScript code inside. Your source code looks a bit like a Notebook, it is a markdown document with documentation and code organized in blocks.</p>
<p>At the end of the tutorial, we will show you how a code would look if written in CoffeeScript. </p>
<h3 id="actions-handler" style="position:relative;"><a href="#actions-handler" aria-label="actions handler permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Actions handler</h3>
<p>An action is the basic building block in Nikita. It is basically a function, called a handler, with some associated metadata, called options. It is materialized as a JavaScript object, for example:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  who<span class="token operator">:</span> <span class="token string">'leon'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>who<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>As you can see, options are made available as the first argument of the handler. This handler is synchronous. Declaring a second argument will mark the function as asynchronous. This second argument is a callback function to be called once the action is done.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  who<span class="token operator">:</span> <span class="token string">'leon'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span><span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>who<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h3 id="calling-actions" style="position:relative;"><a href="#calling-actions" aria-label="calling actions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Calling actions</h3>
<p>To execute an action, you must create a Nikita session and execute the <code class="language-text">call</code> function:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">nikita <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token function">nikita</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  who<span class="token operator">:</span> <span class="token string">'leon'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>who<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>The function <code class="language-text">nikita.call</code> is very flexible in how arguments are passed. It receives zero to multiple objects which will be merged together. Also, a function is interpreted as the action handler, being converted to an object with the <code class="language-text">handler</code> property. It means the previous example could be rewritten as:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">nikita <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token function">nikita</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  who<span class="token operator">:</span> <span class="token string">'leon'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>who<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span></code></pre></div>
<h3 id="actions-callback" style="position:relative;"><a href="#actions-callback" aria-label="actions callback permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Actions callback</h3>
<p>A second function is interpreted as a method to get notified when your handler has completed. It will be converted  to an object with the <code class="language-text">callback</code> property. We call it the action callback.</p>
<p>The action callback is called with two arguments, an error if any and an object containing information from the handler.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">nikita <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token function">nikita</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>
  <span class="token comment">// Handler</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>who<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Callback</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>err <span class="token operator">?</span> err<span class="token punctuation">.</span>message <span class="token operator">:</span> status<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span></code></pre></div>
<h3 id="idempotence-and-status" style="position:relative;"><a href="#idempotence-and-status" aria-label="idempotence and status permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Idempotence and status</h3>
<p>In the context of software deployment, idempotence means that an action with the same parameters can be executed multiple times without changing the final state of the system. It is a fundamental concept and every action in Nikita follows this principle.</p>
<p>The status is used and interpreted with different meanings but in most cases it indicates that a change occurred. Read the action documentation in case of any doubt. For example, an action similar to the POSIX <code class="language-text">touch</code> command could be designed to return "true" on its first run and "false" later on because the file already exists:</p>
<blockquote>
<p>Important: you will encounter an error the second time you execute this code because the target file will be present and status will be set to "true" instead of "false". Simply remove the file with <code class="language-text">rm /tmp/a_file</code> to overcome this issue.</p>
</blockquote>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Dependencies</span>
assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span>
fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
nikita <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token comment">// Touch implementation</span>
<span class="token function-variable function">touch</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span><span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token string">'/tmp/a_file'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stat</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err <span class="token operator">&amp;&amp;</span> err<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token string">'ENOENT'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'/tmp/a_file'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// New Nikita session</span>
nikita
<span class="token comment">// First time calling touch</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>touch<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Second time calling touch</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>touch<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Note, there is an existing <code class="language-text">nikita.file.touch</code> action which does just that with additional functionalities such as detecting and applying changes of ownerships and permissions.</p>
<h3 id="external-actions" style="position:relative;"><a href="#external-actions" aria-label="external actions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>External actions</h3>
<p>In order to reuse our new <code class="language-text">touch</code> action, we could isolate it into a separate file. The new file is called a module in Node.js terminology. Nikita <code class="language-text">call</code> will accept the exported object or function. A string is interpreted as the module path and will be automatically imported. Let's create two files "./lib/touch.js" and "app.js":</p>
<p>File "./lib/touch.js":</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Dependencies</span>
fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token comment">// Touch implementation</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span><span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token string">'/tmp/a_file'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stat</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err <span class="token operator">&amp;&amp;</span> err<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token string">'ENOENT'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'/tmp/a_file'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>File "app.js":</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Dependencies</span>
assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span>
nikita <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
touch <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lib/touch'</span><span class="token punctuation">)</span>
<span class="token comment">// New Nikita session</span>
nikita
<span class="token comment">// Calling touch module</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>touch<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Which is identical to:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Dependencies</span>
nikita <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span>
<span class="token comment">// New Nikita session</span>
nikita
<span class="token comment">// Calling touch module</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'./lib/touch'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="passing-options" style="position:relative;"><a href="#passing-options" aria-label="passing options permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Passing options</h3>
<p>The <code class="language-text">touch</code> action is now a separate Node.js module. It is a vanilla JavaScript function. You can create your own options to control the behavior of your actions. In our example, we created the <code class="language-text">target</code> option to know which file to touch:</p>
<p>File "./lib/touch.js":</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Dependencies</span>
fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token comment">// Touch implementation</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span><span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>target<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stat</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err <span class="token operator">&amp;&amp;</span> err<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token string">'ENOENT'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>target<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>File "app.js": </p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Dependencies</span>
assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span>
nikita <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token comment">// New Nikita session</span>
nikita
<span class="token comment">// Calling touch module</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'./lib/touch'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'target'</span><span class="token operator">:</span> <span class="token string">'/tmp/a_file'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="passing-metadata" style="position:relative;"><a href="#passing-metadata" aria-label="passing metadata permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Passing metadata</h3>
<p>There are several properties which are globally available to every actions such as <code class="language-text">header</code>, <code class="language-text">retry</code>, <code class="language-text">relax</code>. Those are [metadata][/metadata/] and they are not to be confused with options. We encourage you to navigate the documentation. Covering all of them is not in the scope of this tutorial.</p>
<h3 id="registering-actions" style="position:relative;"><a href="#registering-actions" aria-label="registering actions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Registering actions</h3>
<p>Instead of using the <code class="language-text">call</code> action, it might be more comfortable to call our <code class="language-text">touch</code> action by its name. To do so, we will register it. Actions can be registered in the current session or globally. In the example below, we will register it globally:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Dependencies</span>
assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span>
nikita <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token comment">// Register the touch action</span>
nikita<span class="token punctuation">.</span>registry<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'touch'</span><span class="token operator">:</span> <span class="token string">'./lib/touch'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// New Nikita session</span>
nikita
<span class="token comment">// Calling the touch action</span>
<span class="token punctuation">.</span><span class="token function">touch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'target'</span><span class="token operator">:</span> <span class="token string">'./touchme'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h2 id="real-world-example" style="position:relative;"><a href="#real-world-example" aria-label="real world example permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Real world example</h2>
<p>For the sake of this tutorial, we will create a basic Redis installation. The installation steps are:</p>
<ul>
<li>Source compilation<br>
<em>Learn how to execute shell commands and use conditions.</em></li>
<li>Redis configuration file<br>
<em>Learn how to merge or overwrite a configuration by serializing a JavaScript vanilla object.</em></li>
<li>CLI reporting and logs<br>
<em>Learn how to activate pretty reporting and detailed logs written in Markdown.</em></li>
<li>Get the server up and running<br>
<em>Learn how to leverage exit code to alter the action status.</em></li>
<li>Checking the service health<br>
<em>Learn how to use the <code class="language-text">relax</code> and <code class="language-text">shy</code> option.</em></li>
<li>SSH activation<br>
<em>Learn how easy and transparent it is to activate SSH.</em></li>
<li>Composition<br>
<em>Learn how to chain multiple actions sequentially and compose them as children of other actions</em></li>
</ul>
<h3 id="source-compilation" style="position:relative;"><a href="#source-compilation" aria-label="source compilation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Source compilation</h3>
<p><em>Learn how to execute shell command and use conditions.</em></p>
<p>Following the <a href="https://redis.io/topics/quickstart">Redis quickstart guide</a>, getting Redis up and ready is about downloading the package and executing the <code class="language-text">redis-server</code> command. We will do this with idempotence in mind.</p>
<p>To download Redis, we will use the existing <code class="language-text">nikita.file.download</code> action.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  source<span class="token operator">:</span> <span class="token string">'http://download.redis.io/redis-stable.tar.gz'</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> <span class="token string">'cache/redis-stable.tar.gz'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Redis download'</span><span class="token punctuation">,</span> err <span class="token operator">?</span> <span class="token string">'x'</span> <span class="token operator">:</span> status <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>The second time <code class="language-text">nikita.file.download</code> is called, it will check if the target exists and bypass the download in such case. You could also adjust this behavior based on the file signature by using one of the "md5", "sha1" and "sha256" options.</p>
<p>To extract and compile Redis, we will write a shell script which will only be executed if a specific generated file does not already exist. Nikita comes with a few native conditions prefixed with "if<em>" and their associated negation prefixed with "unless</em>". There are also some assertions prefixed by "should<em>" and "should</em>not_" which will throw an error unless satisfied.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  unless_exists<span class="token operator">:</span> <span class="token string">'redis-stable/src/redis-server'</span><span class="token punctuation">,</span>
  cmd<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  tar xzf cache/redis-stable.tar.gz
  cd redis-stable
  make
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Redis installation'</span><span class="token punctuation">,</span> err <span class="token operator">?</span> <span class="token string">'x'</span> <span class="token operator">:</span> status <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="redis-configuration-file" style="position:relative;"><a href="#redis-configuration-file" aria-label="redis configuration file permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Redis configuration file</h3>
<p><em>Learn how to merge or overwrite a configuration by serializing a JavaScript vanilla object.</em></p>
<p>Before starting the server, we will write a configuration file. The Redis format is made of key value pairs separated by spaces. This type of format can be handled with the <code class="language-text">nikita.file.properties</code> action with a custom <code class="language-text">separator</code> option set to one space. The action also comes with some handy options like <code class="language-text">comment</code> to preserve comments and <code class="language-text">merge</code> to preserve the properties already present in the file. </p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">'conf/redis.conf'</span><span class="token punctuation">,</span>
  separator<span class="token operator">:</span> <span class="token string">' '</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'bind'</span><span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    <span class="token string">'protected-mode'</span><span class="token operator">:</span> <span class="token string">'yes'</span><span class="token punctuation">,</span>
    <span class="token string">'port'</span><span class="token operator">:</span> <span class="token number">6379</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Redis configuration'</span><span class="token punctuation">,</span> err <span class="token operator">?</span> <span class="token string">'x'</span> <span class="token operator">:</span> status <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="cli-reporting-and-logs" style="position:relative;"><a href="#cli-reporting-and-logs" aria-label="cli reporting and logs permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLI reporting and logs</h3>
<p><em>Learn how to activate pretty reporting and detailed logs written in Markdown.</em></p>
<p>So far, the action callback was used to catch errors and status and to manually output a message to the user with the <code class="language-text">console.info</code> JavaScript function. This process is automatically managed by the <code class="language-text">nikita.log.cli</code> action. A message is printed to the user terminal whenever the <code class="language-text">header</code> option is present:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token comment">// Activate CLI reporting</span>
<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">cli</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// Call any action</span>
<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// The CLI message</span>
  header<span class="token operator">:</span> <span class="token string">'Redis configuration'</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> <span class="token string">'conf/redis.conf'</span><span class="token punctuation">,</span>
  separator<span class="token operator">:</span> <span class="token string">' '</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'bind'</span><span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    <span class="token string">'protected-mode'</span><span class="token operator">:</span> <span class="token string">'yes'</span><span class="token punctuation">,</span>
    <span class="token string">'port'</span><span class="token operator">:</span> <span class="token number">6379</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Nikita doesn't have to run as a black box. What if an action failed and the error message is not explicit enough? What if a system command failed and we need to dig and get detailed information? Multiple error reporting action are made available such as the <code class="language-text">nikita.log.md</code> which writes logs in the Markdown format:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">md</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  header<span class="token operator">:</span> <span class="token string">'Redis configuration'</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> <span class="token string">'conf/redis.conf'</span><span class="token punctuation">,</span>
  separator<span class="token operator">:</span> <span class="token string">' '</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'bind'</span><span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    <span class="token string">'protected-mode'</span><span class="token operator">:</span> <span class="token string">'yes'</span><span class="token punctuation">,</span>
    <span class="token string">'port'</span><span class="token operator">:</span> <span class="token number">6379</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Under the hood, both the <code class="language-text">nikita.log.cli</code> and the <code class="language-text">nikita.log.md</code> actions leverage the native Node.js <a href="https://Node.js.org/api/events.html">event API</a>. You can get more detailed information by visiting the <a href="/usages/logging_debugging/">Logging and Debugging</a> documentation.</p>
<h3 id="get-the-server-up-and-running" style="position:relative;"><a href="#get-the-server-up-and-running" aria-label="get the server up and running permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get the server up and running</h3>
<p><em>Learn how to leverage exit code to alter the action status.</em></p>
<p>The Redis server is now configured and ready to be started. The status reflects whether the server was already started or not based on the shell exit code. The value "0" will indicate that the server was started, the value "3" will indicate that it was already running and any other exit code will be treated as an error.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  code_skipped<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  cmd<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  # Exit code 3 if ping is successful
  ./src/redis-cli ping &amp;&amp; exit 3
  # Otherwise start the server
  nohup ./src/redis-server conf/redis.conf &amp;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Redis startup'</span><span class="token punctuation">,</span> err <span class="token operator">?</span> <span class="token string">'x'</span> <span class="token operator">:</span> status <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="checking-the-service-health" style="position:relative;"><a href="#checking-the-service-health" aria-label="checking the service health permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Checking the service health</h3>
<p><em>Learn how to use the <code class="language-text">relax</code> and <code class="language-text">shy</code> option.</em></p>
<p>The Redis "PING" command is expected to return "PONG" if the server is healthy. We will illustrate the usage of the <code class="language-text">relax</code> and <code class="language-text">shy</code> options with this use case. The <code class="language-text">relax</code> option will send the error to the callback without propagating it to the overall session, thus allowing the Nikita session to exit gracefully while printing 'x' in case of an error. Similarly, the <code class="language-text">shy</code> option will allow us to set the status to "true" and print "" on success without modifying the global status as obtained from <code class="language-text">nikita.next</code> because it is not considered as a change of state.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  relax<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  shy<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  cmd<span class="token operator">:</span> <span class="token string">'./src/redis-cli -h 127.0.0.1 -p 6379 ping | grep PONG'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Redis check'</span><span class="token punctuation">,</span> err <span class="token operator">?</span> <span class="token string">'x'</span> <span class="token operator">:</span> status <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Finished'</span><span class="token punctuation">,</span> err <span class="token operator">?</span> <span class="token string">'x'</span> <span class="token operator">:</span> status <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="ssh-activation" style="position:relative;"><a href="#ssh-activation" aria-label="ssh activation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SSH activation</h3>
<p><em>Learn how easy and transparent it is to activate SSH.</em></p>
<p>Nikita is written from the ground up to be transparent whether it is executed locally or over SSH. In fact, all the tests are provided with an ssh argument and are executed twice. The first time with the connection set to null and the second time with an established SSH connection.</p>
<p>Calling <code class="language-text">nikita.ssh.open</code> and <code class="language-text">nikita.ssh.close</code> will associate the Nikita current session with and without an SSH connection. The <code class="language-text">nikita.ssh.open</code> action must be registered before scheduling any other actions and,
inversely, the <code class="language-text">nikita.ssh.close</code> action must be registered last. Both the <code class="language-text">nikita.log.cli</code> and <code class="language-text">nikital.log.md</code> actions are always executed locally. When SSH is setup, passing the <code class="language-text">ssh</code> option to selected actions activates and deactivates the SSH connection.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token comment">// Open the SSH Connection</span>
<span class="token punctuation">.</span>ssh<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  host<span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
  port<span class="token operator">:</span> <span class="token string">'22'</span><span class="token punctuation">,</span>
  private_key_path<span class="token operator">:</span> <span class="token string">'~/.ssh/id_rsa'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Call one or multiple actions</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Business as usual'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Close the SSH Connection</span>
<span class="token punctuation">.</span>ssh<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>The above example assumes that you can self connect with SSH locally. If this is not the case, SSH must be installed and listening on port 22 and you must follows the instruction targeting your operating system to get it up and running. A pair of SSH private and public keys, respectively installed at "~/.ssh/id<em>rsa" and "~/.ssh/id</em>rsa.pub", must be present and your public key must be registered inside "~/.ssh/authorized_keys". If this isn't already the case, you can run the following commands:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># Detect if private key is already present</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -f ~/.ssh/id_rsa <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token comment"># Generate private and public keys</span>
  ssh-keygen -t rsa -f ~/.ssh/id_rsa -N <span class="token string">''</span>
<span class="token keyword">fi</span>
<span class="token comment"># Allow self access</span>
<span class="token function">cat</span> ~/.ssh/id_rsa.pub <span class="token operator">>></span> ~/.ssh/authorized_keys
<span class="token comment"># Ensure permissions are valid</span>
<span class="token function">chmod</span> 0700 ~/.ssh
<span class="token function">chmod</span> 0600 ~/.ssh/authorized_keys
<span class="token comment"># Test access</span>
<span class="token function">ssh</span> <span class="token variable"><span class="token variable">`</span><span class="token function">whoami</span><span class="token variable">`</span></span>@127.0.0.1 <span class="token string">"echo 'I am inside'; exit"</span></code></pre></div>
<h3 id="composition" style="position:relative;"><a href="#composition" aria-label="composition permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Composition</h3>
<p><em>Learn how to chain multiple actions sequentially and compose them as children of other actions</em></p>
<p>It is time to finalize our script and run all these actions sequentially. Every time you call an action, you scheduled it into the internal Nikita session for later execution. Because calling an action return the Nikita session unless a <code class="language-text">get</code> option is encountered, it is possible to chain multiple calls.</p>
<p>It is also possible to group multiple actions into one action, creating a hierarchical representation and enabling composition. In our example, we will regroup all Redis actions related to installation into a single action.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">cli</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">md</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>ssh<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  host<span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
  port<span class="token operator">:</span> <span class="token string">'22'</span><span class="token punctuation">,</span>
  private_key_path<span class="token operator">:</span> <span class="token string">'~/.ssh/id_rsa'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  header<span class="token operator">:</span> <span class="token string">'Redis Installation'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span>
    <span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      header<span class="token operator">:</span> <span class="token string">'Download'</span><span class="token punctuation">,</span>
      source<span class="token operator">:</span> <span class="token string">'http://download.redis.io/redis-stable.tar.gz'</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">'cache/redis-stable.tar.gz'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      header<span class="token operator">:</span> <span class="token string">'Compilation'</span><span class="token punctuation">,</span>
      unless_exists<span class="token operator">:</span> <span class="token string">'redis-stable/src/redis-server'</span><span class="token punctuation">,</span>
      cmd<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      tar xzf cache/redis-stable.tar.gz
      cd redis-stable
      make
      </span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      header<span class="token operator">:</span> <span class="token string">'Configuration'</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">'conf/redis.conf'</span><span class="token punctuation">,</span>
      separator<span class="token operator">:</span> <span class="token string">' '</span><span class="token punctuation">,</span>
      content<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'bind'</span><span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
        <span class="token string">'protected-mode'</span><span class="token operator">:</span> <span class="token string">'yes'</span><span class="token punctuation">,</span>
        <span class="token string">'port'</span><span class="token operator">:</span> <span class="token number">6379</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      header<span class="token operator">:</span> <span class="token string">'Startup'</span><span class="token punctuation">,</span>
      code_skipped<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      cmd<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      ./src/redis-cli ping &amp;&amp; exit 3
      nohup ./src/redis-server conf/redis.conf &amp;
      </span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  header<span class="token operator">:</span> <span class="token string">'Redis Check'</span><span class="token punctuation">,</span>
  relax<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  shy<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  cmd<span class="token operator">:</span> <span class="token string">'./src/redis-cli -h 127.0.0.1 -p 6379 ping'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>ssh<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Finally, we will split this code into one file to pilot our application and two files to encapsulate our install and check actions. We will also enhance our actions with more flexible options:</p>
<p>File "app.js"</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Configuration</span>
options <span class="token operator">=</span> <span class="token punctuation">{</span>
  ssh<span class="token operator">:</span> <span class="token punctuation">{</span>
    host<span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token string">'22'</span><span class="token punctuation">,</span>
    username<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">USER</span><span class="token punctuation">,</span>
    private_key_path<span class="token operator">:</span> <span class="token string">'~/.ssh/id_rsa'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  redis<span class="token operator">:</span> <span class="token punctuation">{</span>
    cwd<span class="token operator">:</span> <span class="token string">'/tmp/nikita-tutorial'</span><span class="token punctuation">,</span>
    config<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// Run the application</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nikita'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">cli</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">md</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span>ssh<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">{</span>header<span class="token operator">:</span> <span class="token string">'SSH Open'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>ssh<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>header<span class="token operator">:</span> <span class="token string">'Redis Install'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'./lib/install'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>redis<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>header<span class="token operator">:</span> <span class="token string">'Redis Check'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'./lib/check'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>redis<span class="token punctuation">)</span>
<span class="token punctuation">.</span>ssh<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">{</span>header<span class="token operator">:</span> <span class="token string">'SSH Close'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>File "./lib/install.js"</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// Default options</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">'http://download.redis.io/redis-stable.tar.gz'</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'bind'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'bind'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'protected-mode'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'protected-mode'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'yes'</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'port'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6379</span> <span class="token punctuation">}</span>
  <span class="token comment">// Do the job</span>
  <span class="token keyword">this</span>
  <span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    header<span class="token operator">:</span> <span class="token string">'Download'</span><span class="token punctuation">,</span>
    source<span class="token operator">:</span> options<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token string">'cache/redis-stable.tar.gz'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    header<span class="token operator">:</span> <span class="token string">'Compilation'</span><span class="token punctuation">,</span>
    unless_exists<span class="token operator">:</span> <span class="token string">'redis-stable/src/redis-server'</span><span class="token punctuation">,</span>
    cmd<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    tar xzf cache/redis-stable.tar.gz
    cd redis-stable
    make
    </span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    header<span class="token operator">:</span> <span class="token string">'Configuration'</span><span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token string">'conf/redis.conf'</span><span class="token punctuation">,</span>
    separator<span class="token operator">:</span> <span class="token string">' '</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> options<span class="token punctuation">.</span>config
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    header<span class="token operator">:</span> <span class="token string">'Startup'</span><span class="token punctuation">,</span>
    code_skipped<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    cmd<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    ./src/redis-cli ping &amp;&amp; exit 3
    nohup ./redis-stable/src/redis-server conf/redis.conf &amp;
    </span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>File "./lib/check.js"</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// Get options from config if present</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>config<span class="token punctuation">.</span>host<span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>host <span class="token operator">=</span> options<span class="token punctuation">.</span>config<span class="token punctuation">.</span>host <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>config<span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>port <span class="token operator">=</span> options<span class="token punctuation">.</span>config<span class="token punctuation">.</span>port <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Default options</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">.</span>host<span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">{</span> options<span class="token punctuation">.</span>port <span class="token operator">=</span> <span class="token number">6379</span> <span class="token punctuation">}</span>
  <span class="token comment">// Do the job</span>
  <span class="token keyword">this</span>
  <span class="token punctuation">.</span>system<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    header<span class="token operator">:</span> <span class="token string">'Redis Check'</span><span class="token punctuation">,</span>
    relax<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    shy<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    cmd<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./redis-stable/src/redis-cli -h </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>options<span class="token punctuation">.</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> -p  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>options<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ping</span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div></div></main><footer class="jss117"><div class="jss118 jss123"><div class="MuiGrid-root MuiGrid-container"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6 MuiGrid-grid-sm-3"><div class="jss120"><h6 class="MuiTypography-root jss119 MuiTypography-subtitle1">Navigate</h6><ul class="jss121"><li><a href="/about/">Getting started</a></li><li><a href="/usages/">Usages</a></li><li><a href="/metadata/">Metadata</a></li></ul></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6 MuiGrid-grid-sm-3"><div class="jss120"><h6 class="MuiTypography-root jss119 MuiTypography-subtitle1">Contribute</h6><ul class="jss121"><li><a href="https://github.com/adaltas/node-nikita">GitHub</a></li><li><a href="https://github.com/adaltas/node-nikita/issues">Issue Tracker</a></li><li><a href="/about/license">License</a></li></ul></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6"><div class="jss120"><h6 class="MuiTypography-root jss119 MuiTypography-subtitle1">About</h6><p class="MuiTypography-root jss122 MuiTypography-body1">Nikita is an open source product hosted on <a href="https://www.github.com" target="_blank" rel="noopener">GitHub</a> and developed by <a href="http://www.adaltas.com" target="_blank" rel="noopener">Adaltas</a>.</p></div></div></div></div></footer></div></div><div class="css-d35p82"><div class="jss227"><div><div class="jss228"><a href="/">Documentation</a><span class="MuiTypography-root MuiTypography-caption">version 0.8</span></div><hr class="MuiDivider-root"/></div><div class="jss237"><nav class="MuiList-root MuiList-padding" role="menu" tabindex="-1"><li class="MuiListItem-container"><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button MuiListItem-secondaryAction" tabindex="0" role="menuitem" aria-disabled="false" href="/about/"><div class="MuiListItemText-root"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body1 MuiTypography-displayBlock">About</span></div></a><div class="MuiListItemSecondaryAction-root"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></svg></span></button></div></li><div class="MuiCollapse-container MuiCollapse-entered" style="min-height:0px"><div class="MuiCollapse-wrapper"><div class="MuiCollapse-wrapperInner"><ul class="MuiList-root" role="menu" tabindex="-1"><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="0" role="menuitem" aria-disabled="false" href="/about/introduction/">Introduction</a><a aria-current="page" class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button jss240" tabindex="-1" role="menuitem" aria-disabled="false" href="/about/tutorial/">Tutorial</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/about/developers/">Developer</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/about/contribute/">Contribute</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/about/changelog/">Changelog</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/about/license/">License (MIT)</a></ul></div></div></div></nav></div><div class="jss237"><nav class="MuiList-root MuiList-padding" role="menu" tabindex="-1"><li class="MuiListItem-container"><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button MuiListItem-secondaryAction" tabindex="0" role="menuitem" aria-disabled="false" href="/usages/"><div class="MuiListItemText-root"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body1 MuiTypography-displayBlock">Usages</span></div></a><div class="MuiListItemSecondaryAction-root"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></svg></span></button></div></li><div class="MuiCollapse-container MuiCollapse-entered" style="min-height:0px"><div class="MuiCollapse-wrapper"><div class="MuiCollapse-wrapperInner"><ul class="MuiList-root" role="menu" tabindex="-1"><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="0" role="menuitem" aria-disabled="false" href="/usages/call/">Call</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/sync_async/">Sync and async</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/registry/">Action Registration</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/status/">Status</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/local_remote/">Local and Remote (SSH)</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/conditions_assertions/">Conditions and assertions</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/events/">Events API</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/logging_debugging/">Logging and Debugging</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/control_flow/">Control Flow</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/usages/error/">Error handling</a></ul></div></div></div></nav></div><div class="jss237"><nav class="MuiList-root MuiList-padding" role="menu" tabindex="-1"><li class="MuiListItem-container"><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button MuiListItem-secondaryAction" tabindex="0" role="menuitem" aria-disabled="false" href="/action/"><div class="MuiListItemText-root"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body1 MuiTypography-displayBlock">Action</span></div></a><div class="MuiListItemSecondaryAction-root"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></svg></span></button></div></li><div class="MuiCollapse-container MuiCollapse-entered" style="min-height:0px"><div class="MuiCollapse-wrapper"><div class="MuiCollapse-wrapperInner"><ul class="MuiList-root" role="menu" tabindex="-1"><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="0" role="menuitem" aria-disabled="false" href="/action/options/">Options</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/action/handler/">Handler</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/action/callback/">Callback</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/action/cascade/">Cascade</a></ul></div></div></div></nav></div><div class="jss237"><nav class="MuiList-root MuiList-padding" role="menu" tabindex="-1"><li class="MuiListItem-container"><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button MuiListItem-secondaryAction" tabindex="0" role="menuitem" aria-disabled="false" href="/metadata/"><div class="MuiListItemText-root"><span class="MuiTypography-root MuiListItemText-primary MuiTypography-body1 MuiTypography-displayBlock">Metadata</span></div></a><div class="MuiListItemSecondaryAction-root"><button class="MuiButtonBase-root MuiIconButton-root" tabindex="0" type="button"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></svg></span></button></div></li><div class="MuiCollapse-container MuiCollapse-entered" style="min-height:0px"><div class="MuiCollapse-wrapper"><div class="MuiCollapse-wrapperInner"><ul class="MuiList-root" role="menu" tabindex="-1"><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="0" role="menuitem" aria-disabled="false" href="/metadata/attempt/">Metadata &quot;attempt&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/debug/">Metadata &quot;debug&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/header/">Metadata &quot;header&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/once/">Metadata &quot;once&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/relax/">Metadata &quot;relax&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/retry/">Metadata &quot;retry&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/shy/">Metadata &quot;shy&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/sleep/">Metadata &quot;sleep&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/sudo/">Metadata &quot;sudo&quot;</a><a class="MuiButtonBase-root MuiListItem-root MuiMenuItem-root jss239 jss238 MuiMenuItem-gutters MuiListItem-gutters MuiListItem-button" tabindex="-1" role="menuitem" aria-disabled="false" href="/metadata/tolerant/">Metadata &quot;tolerant&quot;</a></ul></div></div></div></nav></div><div class="jss229"><span class="MuiTypography-root MuiTypography-caption">Help us<!-- --> <a href="https://github.com/adaltas/node-nikita-docs/issues">improve the docs</a> <!-- -->by fixing typos and proposing enhancements.</span></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-1322093-4', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/about/tutorial/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-9e030c0c176763750740.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-41426c3bc049c2929f51.js"],"component---src-templates-template-js":["/component---src-templates-template-js-bcfdd028899cc692d9d8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-9dd8e88ec361bf96ae08.js"],"component---src-pages-index-js":["/component---src-pages-index-js-a21af921af0d6a36679b.js"]};/*]]>*/</script><script src="/webpack-runtime-b358f5505323f17f5df9.js" async=""></script><script src="/app-9e030c0c176763750740.js" async=""></script><script src="/commons-4e2dc19d106bb1fdc5de.js" async=""></script><script src="/component---src-templates-template-js-bcfdd028899cc692d9d8.js" async=""></script><script src="/styles-a23637343f1e7dc05fec.js" async=""></script></body></html>